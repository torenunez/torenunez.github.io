// ==============================================
// BASE: Reset, typography, and foundational styles
// Applied globally — sets the baseline for everything else
// ==============================================

@use "tokens" as *;

// ----------------------------------------------
// CSS CUSTOM PROPERTIES
// Defined here so they can be overridden without recompiling
// ----------------------------------------------

:root {
  // Asset paths — update these to add images later
  --hero-bg-image: #{$hero-bg-image};
  --hero-bg-color: #{$hero-bg-color};

  --section-projects-bg: #{$section-projects-bg};
  --section-experience-bg: #{$section-experience-bg};
  --section-contact-bg: #{$section-contact-bg};

  --texture-subtle: #{$texture-subtle};
  --texture-opacity: #{$texture-opacity};

  --divider-pattern: #{$divider-pattern};
}

// ----------------------------------------------
// RESET
// Modern CSS reset — removes browser inconsistencies
// ----------------------------------------------

*,
*::before,
*::after {
  box-sizing: border-box;  // Padding included in width calculations
  margin: 0;
  padding: 0;
}

// ----------------------------------------------
// HTML & BODY
// ----------------------------------------------

html {
  // Why not 62.5%? Respects user font-size preferences better
  font-size: 100%;
  scroll-behavior: smooth;  // Smooth anchor scrolling (CSS-only, no JS needed)

  // Prevent horizontal scroll from any overflow
  overflow-x: hidden;
}

body {
  font-family: $font-sans;
  font-size: $font-size-base;
  font-weight: $font-weight-normal;
  line-height: $line-height-normal;
  color: $color-text;
  background-color: $color-bg;

  // Better text rendering
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;

  // Prevent horizontal scroll
  overflow-x: hidden;
}

// ----------------------------------------------
// TYPOGRAPHY
// ----------------------------------------------

// Headings — tight line-height, bold weight
h1, h2, h3, h4, h5, h6 {
  font-weight: $font-weight-bold;
  line-height: $line-height-tight;
  color: $color-text;
}

h1 {
  font-size: $font-size-3xl;

  @media (min-width: $breakpoint-md) {
    font-size: $font-size-4xl;
  }
}

h2 {
  font-size: $font-size-2xl;
}

h3 {
  font-size: $font-size-xl;
}

h4 {
  font-size: $font-size-lg;
}

// Paragraphs
p {
  margin-bottom: $space-4;

  &:last-child {
    margin-bottom: 0;  // No trailing margin on last paragraph
  }
}

// Lead text — larger, for intro paragraphs
.lead {
  font-size: $font-size-lg;
  line-height: $line-height-relaxed;
  color: $color-text-muted;
}

// Small text
small,
.text-sm {
  font-size: $font-size-sm;
}

.text-xs {
  font-size: $font-size-xs;
}

// Muted text
.text-muted {
  color: $color-text-muted;
}

// Monospace text — for code, labels
code,
.mono {
  font-family: $font-mono;
  font-size: 0.9em;  // Slightly smaller to match x-height of sans
}

// ----------------------------------------------
// LINKS
// ----------------------------------------------

a {
  color: $color-accent;
  text-decoration: none;
  transition: color $transition-base;

  &:hover {
    color: $color-accent-hover;
    text-decoration: underline;
  }

  // Accessible focus state — visible outline
  &:focus {
    outline: 3px solid $color-accent;
    outline-offset: 2px;
  }

  // Remove outline for mouse users, keep for keyboard
  &:focus:not(:focus-visible) {
    outline: none;
  }

  &:focus-visible {
    outline: 3px solid $color-accent;
    outline-offset: 2px;
  }
}

// ----------------------------------------------
// LISTS
// ----------------------------------------------

ul, ol {
  padding-left: $space-6;
  margin-bottom: $space-4;

  li {
    margin-bottom: $space-2;
  }
}

// Remove list styles when used for layout
.list-none {
  list-style: none;
  padding-left: 0;

  li {
    margin-bottom: 0;
  }
}

// ----------------------------------------------
// IMAGES
// ----------------------------------------------

img {
  max-width: 100%;
  height: auto;
  display: block;  // Removes bottom gap from inline display
}

// ----------------------------------------------
// SELECTION
// Custom selection color for brand consistency
// ----------------------------------------------

::selection {
  background-color: $color-accent;
  color: white;
}

// ----------------------------------------------
// SCREEN READER ONLY
// Visually hidden but accessible to screen readers
// ----------------------------------------------

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
